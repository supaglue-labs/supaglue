type: object
properties:
  name:
    type: string
    description: The name given by the user for the step. Used by Salesloft only.
  interval_seconds:
    type: number
    description: The interval (in seconds) until this step will activate after the previous step (in case of first step, relative to when prospect first enters a sequence); only applicable to interval-based sequences. This is 0 by default
  date:
    type: string
    example: "2023-01-01"
    description: The date this step will activate; only applicable to date-based sequences.
  template:
    description: The email/message template to be used for this step. Only applicable for email or message steps.
    oneOf:
      - type: object
        properties:
          id:
            type: string
            description: The ID of the template to use for this step.
        required:
          - id
      - type: object
        properties:
          body:
            type: string
            description: The body of the email (HTML).
          subject:
            type: string
            description: The subject of the email.
          name:
            type: string
            description: The name of the template. In Outreach, if missing this will create an `invisible` template that doesn't show up in the templates list UI. 
          to:
            type: array
            description: A list of default person and email address pairs to receive this template in the "to" field
            items:
              type: string
          cc:
            type: array
            description: A list of default person and email address pairs to receive this template in the "cc" field
            items:
              type: string
          bcc:
            type: array
            description: A list of default person and email address pairs to receive this template in the "bcc" field
            items:
              type: string
          custom_fields:
            $ref: ./objects/custom_fields.yaml
        required:
          - body
          - subject
  is_reply:
    type: boolean
    description: If true, this step will be sent as a reply to the previous step.
  order:
    type: number
    description: The step's display order within its sequence. Only applicable for Outreach when adding steps one at a time after the initial sequence creation, otherwise when creating steps together with sequence order is implicit based on the order of step within the step array. Salesloft does not use the `order` param, and order is instead determined by `interval_seconds` which translates into the `day` parameter
  type:
    type: string
    enum: [auto_email, manual_email, call, task, linkedin_send_message]
    description: |
      The type of the sequence state. Note: `linkedin_send_message` is undocumented in Outreach and subject to change.

      See below for how these types are mapped:

      | Provider  | auto_email | manual_email | call  | task        | linkedin_send_message |
      | --------- | ---------- | ------------ | ----- | ----------- | --------------------- |
      | Apollo    | auto_email | manual_email | call  | action_item | linkedin_send_message |
      | Outreach  | auto_email | manual_email | call  | task        | linkedin_send_message |
      | Salesloft | Email      | Email        | Phone | Other       | (Not supported)       |

  task_note:
    type: string
    description: An optional note to be attached to this step.
  custom_fields:
    $ref: ./objects/custom_fields.yaml
required:
  - type
