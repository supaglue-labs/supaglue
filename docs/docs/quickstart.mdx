---
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import BrowserWindow from '@site/src/components/BrowserWindow';
import ThemedImage from '@theme/ThemedImage';

# Quickstart

This quickstart will show you how to integrate Supaglue with your application in approximately 10 minutes. By the end, you will have synced data from a sample customer's Hubspot to your Postgres database and queried it.

<iframe
  width="640"
  height="356"
  src="https://www.loom.com/embed/579b97dc576b4aa3bcd69b0cfa50d613?sid=2417ae3a-4fe1-43a4-b84d-8067216fabaf&hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true"
  frameborder="0"
  webkitallowfullscreen
  mozallowfullscreen
  allowfullscreen
></iframe>

## 1. Create your Supaglue account

<Tabs>

<TabItem value="supaglue-cloud" label="Supaglue Cloud" default>

Create a free Supaglue Cloud account **[here](https://app.supaglue.io/sign-up)**. After creating your account, we will redirect you to the Management Portal.

</TabItem>

<TabItem value="localhost" label="Localhost">

Clone the Github repo and run the Supaglue stack locally using docker compose:

```shell
git clone -b v0.14.16 https://github.com/supaglue-labs/supaglue.git && cd supaglue
./scripts/create_quickstart_env.sh
docker compose up
```

Once Supaglue runs locally, open your browser's [management portal](http://localhost:3000).

The default login credentials are `username: admin` and `password: admin`. Alternatively, use the value of the `ADMIN_PASSWORD` environment variable in the `.env` file if you modified it.

</TabItem>

</Tabs>

## 2. Configure a provider

[**Providers**](./category/providers) are third-party SaaS tools that your customers use. Supaglue supports a growing list of Providers, including Salesforce, Hubspot, and more.

1. Go to the **Configuration --> Providers** tab and configure a Hubspot Oauth app for this quickstart.

:::note
We offer Supaglue-managed Oauth apps if you don't have one. Keep the "Managed OAuth2 App" switch enabled and click "Save" or you can read our [Provider docs](./category/providers) to set up your own Oauth app for a Provider.
:::

<BrowserWindow url="https://app.supaglue.io/applications/62605dc1-148e-4c53-a850-82e10f71ed23/configuration/providers/crm/hubspot">

![image](/img/hubspot-config-quickstart.png)

</BrowserWindow>

## 3. Configure destination

Supaglue will sync Provider data to Destinations. [**Destinations**](./category/destinations) are databases in your [infrastructure](./integration-patterns/managed-syncs#destination-options) or [Supaglue's infrastructure](./integration-patterns/managed-syncs#destination-options).

1. Navigate to the **Destinations** tab and select "Postgres".
1. Use your existing Postgres database and role to create a schema for Supaglue (e.g., `supaglue`) and grant appropriate privileges on the schema and future tables. Supaglue will need to read and write to them.

```sql
    create schema supaglue;

    create role supaglue_role;
    grant connect on database <your db name> to supaglue_role;
    grant all privileges on schema supaglue to supaglue_role;
    grant all privileges on all tables in schema supaglue to supaglue_role;
    alter default privileges in schema supaglue grant all privileges on tables to supaglue_role;
    grant supaglue_role to supaglue_user;
```

3. Fill out the connection form in the Management Portal, test, and save the connection credentials.

:::info
Ensure your Postgres is publicly available to the internet using appropriate firewall and subnet rules.
:::

<BrowserWindow url="https://app.supaglue.io/applications/62605dc1-148e-4c53-a850-82e10f71ed23/configuration/destinations/postgres">

![image](/img/postgres-form-quickstart.png)

</BrowserWindow>

## 4. Create a sync configuration

A [**Sync Config**](./integration-patterns/managed-syncs#syncconfig) ties a Provider to a Destination and specifies which objects to sync.

1. Go to the **Sync Configs** tab and click the "Add" button to add a new Sync Config.
1. Select the Provider and Destination you configured earlier, then under "Common objects" select `contact`, and click "Save".

<BrowserWindow url="https://app.supaglue.io/applications/62605dc1-148e-4c53-a850-82e10f71ed23/configuration/sync_configs/e8a88575-efdb-4560-ae94-3871e8e51b18">

![image](/img/sync-config-quickstart.png)

</BrowserWindow>

## 5. Create a sample customer

A **Customer** is an end-user in your application that connects their third-party SaaS accounts to your application using Supaglue's [Managed Authentication](./platform/managed-auth).

1. Navigate to the Customers page and click on the plus button to create a sample customer:
   - customer_id: `1234` (the primary key you use in your application that uniquely identifies this customer)
   - name: `Jane Doe`
   - email: `jane@acmecorp.com`

<BrowserWindow url="https://app.supaglue.io/applications/62605dc1-148e-4c53-a850-82e10f71ed23/customers">

![image](/img/customer-config-quickstart.png)

</BrowserWindow>

## 6. Generated an embedded link

In your frontend application, you can add an [**Embedded Link**](platform/managed-auth#embedded-links) to let customers authenticate their Provider account with your application using Supaglue.

1. We can now grab the Embedded Link from the Management Portal.
1. Navigate to the Customer page you created in step 5 and click the "Embed Link" button.

export const IntegrationCard = ({ icon, provider, description, to }) => (
  <div className="mb-4 p-6 max-w-4xl flex flex-col border rounded-md border-slate-200 border-solid items-start">
    <img src={icon} style={{ width: 'auto', height: '36px' }} />
    <div className="font-semibold mt-4">{provider}</div>
    <div className="text-xs mt-2">{description}</div>
    <div
      onClick={() => {
        window.location.href = to;
      }}
      className="border-solid font-semibold cursor-pointer hover:bg-slate-100 mt-6 px-4 py-2 border border-slate-300 rounded-md text-xs"
    >
      Connect
    </div>
  </div>
);

:::note
The format of the Embedded Link looks like the following: `https://api.supaglue.io/oauth/connect?applicationId={APPLICATION_ID}&customerId={CUSTOMER_ID}&providerName={PROVIDER_NAME}&returnUrl={RETURN_URL}`
:::

## 7. Create a connection

<div className="grid grid-cols-2 gap-4 justify-items-center">
  <div>
    <ThemedImage
      alt="Hubspot Example App"
      width="100%"
      sources={{
        light: '/img/hubspot_app.png',
        dark: '/img/hubspot_app.png',
      }}
    />
  </div>
</div>

1. Paste the URL you copied from Step 6 into a browser. This emulates your user clicking on the Embedded Link.
1. Go through the Hubspot OAuth flow, which installs the Supaglue-managed Oauth app in your Hubspot account with the requested scopes.
1. Completing the Oauth flow creates a Supaglue **Connection**, which you can verify by checking the Customer page in the Management Portal.
1. Hubspot Contacts will now sync to your Postgres database.

:::note
For production, you would use your own Hubspot Oauth app.
:::

## 8. Query your destination

Once the sync has finished, you can query your customer's Hubspot contacts in the `crm_contact` table in your Postgres.

![image](/img/postgres-sql.png)

## 9. Create an object

Use the [Unified API](api/introduction) to create a contact object in Hubspot.

Below is an example curl to create a Hubspot contact using the [Unified CRM API](api/v2/crm/unified-crm-api).

1. Generate your [API key](api/introduction#api-authentication).
1. Copy and paste the curl.
1. Replace `{API_KEY}` with yours and run it.

```
curl --location 'https://api.supaglue.io/crm/v2/contacts' \
--header 'x-customer-id: 1234' \
--header 'x-provider-name: hubspot' \
--header 'x-api-key: {API_KEY}' \
--header 'Content-Type: application/json' \
--data-raw '{
    "record": {
        "first_name": "Supa",
        "last_name": "Glue",
        "email_addresses": [
            {
                "email_address": "team@supaglue.io",
                "email_address_type": "primary"
            }
        ]
    }
}'
```
